<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <title>VideoStream - 专业视频流媒体播放平台</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="VideoStream是一个专业的视频流媒体播放平台，支持M3U8/HLS、MP4等多种格式，提供高清流畅的在线观看体验">
    <link rel="icon" href="./images/logo.ico" type="image/x-icon">
    
    <!-- 引入现代化UI框架 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- 引入字体图标 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    
    <!-- 引入AOS动画库 -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    
    <!-- jQuery库 -->
    <script src="https://cdn.staticfile.org/jquery/3.6.0/jquery.min.js"></script>
    
    <!-- 社交分享组件 -->
    <link rel="stylesheet" href="https://cdn.staticfile.org/social-share.js/1.0.16/css/share.min.css">
    <script src="https://cdn.staticfile.org/social-share.js/1.0.16/js/social-share.min.js"></script>
    
    <!-- 广告脚本 -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6400746346592229"
     crossorigin="anonymous"></script>
     
    <!-- 腾讯播放器 -->
    <link href="https://web.sdk.qcloud.com/player/tcplayer/release/v5.1.0/tcplayer.min.css" rel="stylesheet" />
    <script src="https://web.sdk.qcloud.com/player/tcplayer/release/v5.1.0/tcplayer.v5.1.0.min.js"></script>

    <style>
        :root {
            --primary-color: #3a86ff;
            --secondary-color: #4361ee;
            --accent-color: #4cc9f0;
            --dark-color: #1e293b;
            --light-color: #f8f9fa;
            --success-color: #06d6a0;
            --warning-color: #ffd166;
            --danger-color: #ef476f;
            --text-color: #334155;
            --light-text: #94a3b8;
            --border-radius: 10px;
            --box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --transition: all 0.3s ease;
        }
        
        /* 全局样式 */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            color: var(--text-color);
            background-color: #f0f5ff;
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        /* 导航栏 */
        .navbar {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            padding: 15px 0;
            box-shadow: var(--box-shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .navbar-brand {
            font-weight: 700;
            font-size: 24px;
            color: white !important;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .navbar-brand i {
            font-size: 28px;
        }
        
        .navbar-nav .nav-link {
            color: rgba(255, 255, 255, 0.9) !important;
            font-weight: 500;
            padding: 10px 15px;
            border-radius: var(--border-radius);
            transition: var(--transition);
        }
        
        .navbar-nav .nav-link:hover {
            background-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        
        .navbar-nav .nav-link.active {
            background-color: rgba(255, 255, 255, 0.3);
            color: white !important;
        }
        
        /* 英雄区 */
        .hero {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1478760329108-5c3ed9d495a0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2074&q=80') center/cover no-repeat;
            color: white;
            padding: 100px 0;
            text-align: center;
            margin-bottom: 50px;
        }
        
        .hero h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto 30px;
            opacity: 0.9;
        }
        
        /* 主要内容区 */
        .main-content {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 40px;
            margin-bottom: 50px;
        }
        
        .section-title {
            font-size: 2rem;
            font-weight: 700;
            color: var(--dark-color);
            margin-bottom: 30px;
            position: relative;
            padding-bottom: 15px;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 80px;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            border-radius: 2px;
        }
        
        /* 播放器表单 */
        .player-form {
            background-color: #f8faff;
            border-radius: var(--border-radius);
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            border-left: 4px solid var(--primary-color);
        }
        
        .url-input-group {
            display: flex;
            margin-bottom: 20px;
        }
        
        .url-input-group input {
            flex: 1;
            height: 50px;
            border: 2px solid #e2e8f0;
            border-radius: var(--border-radius) 0 0 var(--border-radius);
            padding: 0 15px;
            font-size: 16px;
            transition: var(--transition);
        }
        
        .url-input-group input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(66, 153, 225, 0.2);
        }
        
        .url-input-group button {
            width: 120px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border: none;
            border-radius: 0 var(--border-radius) var(--border-radius) 0;
            color: white;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .url-input-group button:hover {
            background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
            transform: translateY(-2px);
        }
        
        .url-input-group button i {
            font-size: 18px;
        }
        
        /* 示例链接 */
        .example-links {
            margin-bottom: 20px;
        }
        
        .example-links p {
            font-weight: 500;
            margin-bottom: 10px;
            color: var(--dark-color);
        }
        
        .example-links .btn {
            margin-right: 10px;
            margin-bottom: 10px;
            background-color: #e2e8f0;
            color: var(--dark-color);
            border: none;
            transition: var(--transition);
        }
        
        .example-links .btn:hover {
            background-color: #cbd5e1;
            transform: translateY(-2px);
        }
        
        /* 播放器容器 */
        .player-container-wrapper {
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
            margin-bottom: 30px;
            background-color: #000;
            position: relative;
        }
        
        /* 功能特点 */
        .features {
            margin-top: 50px;
            margin-bottom: 50px;
        }
        
        .feature-card {
            background-color: white;
            border-radius: var(--border-radius);
            padding: 30px;
            box-shadow: var(--box-shadow);
            height: 100%;
            transition: var(--transition);
            border-top: 4px solid var(--primary-color);
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
        }
        
        .feature-icon {
            width: 70px;
            height: 70px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
        }
        
        .feature-icon i {
            font-size: 30px;
            color: white;
        }
        
        .feature-card h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--dark-color);
        }
        
        .feature-card p {
            color: var(--light-text);
            margin-bottom: 0;
        }
        
        /* 教程部分 */
        .tutorials {
            margin-top: 50px;
            margin-bottom: 50px;
        }
        
        .tutorial-card {
            background-color: white;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--box-shadow);
            margin-bottom: 30px;
            transition: var(--transition);
        }
        
        .tutorial-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        .tutorial-image {
            height: 200px;
            background-size: cover;
            background-position: center;
        }
        
        .tutorial-content {
            padding: 20px;
        }
        
        .tutorial-content h3 {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--dark-color);
        }
        
        .tutorial-content p {
            color: var(--light-text);
            margin-bottom: 15px;
        }
        
        .tutorial-content .btn {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border: none;
            transition: var(--transition);
        }
        
        .tutorial-content .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(66, 153, 225, 0.3);
        }
        
        /* 常见问题 */
        .faq {
            margin-top: 50px;
            margin-bottom: 50px;
        }
        
        .accordion-item {
            border: none;
            margin-bottom: 15px;
            border-radius: var(--border-radius) !important;
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        
        .accordion-button {
            font-weight: 600;
            padding: 20px;
            background-color: white;
            color: var(--dark-color);
        }
        
        .accordion-button:not(.collapsed) {
            background-color: #f0f7ff;
            color: var(--primary-color);
            box-shadow: none;
        }
        
        .accordion-button:focus {
            box-shadow: none;
            border-color: rgba(66, 153, 225, 0.5);
        }
        
        .accordion-body {
            padding: 20px;
            background-color: #fafbff;
        }
        
        /* 广告容器 */
        .ad-container {
            margin: 30px 0;
            text-align: center;
            overflow: hidden;
            background-color: #f8faff;
            border-radius: var(--border-radius);
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* 页脚 */
        .footer {
            background-color: var(--dark-color);
            color: white;
            padding: 60px 0 30px;
            margin-top: 50px;
        }
        
        .footer h5 {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: white;
        }
        
        .footer p {
            color: rgba(255, 255, 255, 0.7);
        }
        
        .footer-links {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .footer-links li {
            margin-bottom: 10px;
        }
        
        .footer-links a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .footer-links a:hover {
            color: white;
            transform: translateX(5px);
        }
        
        .footer-links a i {
            font-size: 14px;
        }
        
        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .social-links a {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            transition: var(--transition);
        }
        
        .social-links a:hover {
            background-color: var(--primary-color);
            transform: translateY(-5px);
        }
        
        .copyright {
            text-align: center;
            padding-top: 30px;
            margin-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.5);
        }
        
        /* 提示框样式 */
        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
        }
        
        .toast {
            background-color: white;
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            overflow: hidden;
            margin-bottom: 10px;
            width: 300px;
        }
        
        .toast-header {
            display: flex;
            align-items: center;
            padding: 10px 15px;
            background-color: #f8faff;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .toast-header i {
            margin-right: 10px;
            font-size: 18px;
        }
        
        .toast-header i.bi-info-circle-fill {
            color: var(--primary-color);
        }
        
        .toast-header i.bi-exclamation-triangle-fill {
            color: var(--warning-color);
        }
        
        .toast-header i.bi-x-circle-fill {
            color: var(--danger-color);
        }
        
        .toast-header strong {
            flex-grow: 1;
            font-weight: 600;
        }
        
        .toast-header button {
            background: transparent;
            border: none;
            font-size: 20px;
            line-height: 1;
            color: #94a3b8;
            cursor: pointer;
        }
        
        .toast-body {
            padding: 15px;
        }
        
        /* 动画 */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeOut {
            from {
                opacity: 1;
            }
            to {
                opacity: 0;
            }
        }
        
        /* 响应式调整 */
        @media (max-width: 768px) {
            .hero {
                padding: 60px 0;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .player-form {
                padding: 20px;
            }
            
            .url-input-group {
                flex-direction: column;
            }
            
            .url-input-group input {
                border-radius: var(--border-radius) var(--border-radius) 0 0;
            }
            
            .url-input-group button {
                width: 100%;
                border-radius: 0 0 var(--border-radius) var(--border-radius);
            }
        }
    </style>
</head>

<body>
    <!-- 导航栏 -->
    <nav class="navbar navbar-expand-lg navbar-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="bi bi-play-circle-fill"></i> VideoStream
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="#"><i class="bi bi-house-fill"></i> 首页</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#features"><i class="bi bi-stars"></i> 特点</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#tutorials"><i class="bi bi-journal-text"></i> 教程</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#faq"><i class="bi bi-question-circle"></i> 常见问题</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contact"><i class="bi bi-envelope"></i> 联系我们</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- 英雄区 -->
    <section class="hero">
        <div class="container">
            <h1 data-aos="fade-up" data-aos-duration="1000">专业视频流媒体播放平台</h1>
            <p data-aos="fade-up" data-aos-duration="1000" data-aos-delay="200">支持M3U8/HLS、MP4等多种格式，提供高清流畅的在线观看体验，无需下载安装任何软件</p>
            <a href="#player" class="btn btn-primary btn-lg" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="400">
                <i class="bi bi-play-fill"></i> 立即体验
            </a>
        </div>
    </section>

    <!-- 主要内容区 -->
    <div class="container">
        <div class="main-content">
            <!-- 顶部广告 -->
            <div class="ad-container ad-top">
                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6400746346592229"
                    crossorigin="anonymous"></script>
                <!-- m3u-top -->
                <ins class="adsbygoogle"
                    style="display:block"
                    data-ad-client="ca-pub-6400746346592229"
                    data-ad-slot="2580436382"
                    data-ad-format="auto"
                    data-full-width-responsive="true"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>

            <!-- 播放器部分 -->
            <section id="player">
                <h2 class="section-title">在线视频播放器</h2>
                
                <div class="player-form">
                    <div class="url-input-group">
                        <input type="text" id="url" value="https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8" placeholder="请输入视频流地址 (M3U8/HLS/MP4)" autocomplete="off">
                        <button type="button" id="play-button"><i class="bi bi-play-fill"></i> 立即播放</button>
                    </div>
                    
                    <div class="example-links">
                        <p><i class="bi bi-link-45deg"></i> 示例链接:</p>
                        <button class="btn btn-sm" onclick="setExampleUrl('https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8')">测试流 1</button>
                        <button class="btn btn-sm" onclick="setExampleUrl('https://cph-p2p-msl.akamaized.net/hls/live/2000341/test/master.m3u8')">测试流 2</button>
                        <button class="btn btn-sm" onclick="setExampleUrl('https://demo.unified-streaming.com/k8s/features/stable/video/tears-of-steel/tears-of-steel.mp4/.m3u8')">电影示例</button>
                        <button class="btn btn-sm btn-warning" onclick="testPlayerInit()">测试播放器初始化</button>
                        <button class="btn btn-sm btn-info" onclick="debugTCPlayer()">调试TCPlayer</button>
                    </div>
                </div>
                
                <!-- 播放器上方广告 -->
                <div class="ad-container ad-before-player">
                    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6400746346592229"
                        crossorigin="anonymous"></script>
                    <!-- m3u-before-player -->
                    <ins class="adsbygoogle"
                        style="display:block"
                        data-ad-client="ca-pub-6400746346592229"
                        data-ad-slot="3691547693"
                        data-ad-format="auto"
                        data-full-width-responsive="true"></ins>
                    <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>
                
                <div class="player-container-wrapper">
                    <div id="player-container-id" style="width: 100%; min-height: 400px; background: #000;">
                    </div>
                </div>
                
                <div class="player-controls text-center mt-3">
                    <div class="btn-group">
                        <button class="btn btn-outline-primary" onclick="adjustPlaybackRate(0.5)"><i class="bi bi-rewind"></i> 0.5x</button>
                        <button class="btn btn-outline-primary" onclick="adjustPlaybackRate(1)"><i class="bi bi-play"></i> 1x</button>
                        <button class="btn btn-outline-primary" onclick="adjustPlaybackRate(1.5)"><i class="bi bi-fast-forward"></i> 1.5x</button>
                        <button class="btn btn-outline-primary" onclick="adjustPlaybackRate(2)"><i class="bi bi-fast-forward-fill"></i> 2x</button>
                    </div>
                </div>
                
                <div class="embed-info mt-4">
                    <h5><i class="bi bi-code-slash"></i> 嵌入代码</h5>
                    <div class="input-group">
                        <input type="text" id="embed-code" class="form-control" value='<iframe src="https://videostream.org/player.html?url=YOUR_M3U8_URL" width="100%" height="400" frameborder="0" allowfullscreen></iframe>' readonly>
                        <button class="btn btn-outline-secondary" type="button" onclick="copyEmbedCode()"><i class="bi bi-clipboard"></i> 复制</button>
                    </div>
                    <small class="text-muted">将上面的代码嵌入到您的网站中，替换 YOUR_M3U8_URL 为您的视频流地址</small>
                </div>
            </section>
            
            <!-- 中间广告 -->
            <div class="ad-container ad-middle">
                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6400746346592229"
                    crossorigin="anonymous"></script>
                <!-- m3u-middle -->
                <ins class="adsbygoogle"
                    style="display:block"
                    data-ad-client="ca-pub-6400746346592229"
                    data-ad-slot="5168264924"
                    data-ad-format="auto"
                    data-full-width-responsive="true"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>

            <!-- 功能特点 -->
            <section id="features" class="features">
                <h2 class="section-title">功能特点</h2>
                <div class="row">
                    <div class="col-md-4 mb-4" data-aos="fade-up" data-aos-duration="1000">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="bi bi-play-circle"></i>
                            </div>
                            <h3>多格式支持</h3>
                            <p>支持M3U8/HLS、MP4等多种视频格式，兼容大多数流媒体内容，无需转换即可在线播放。</p>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="200">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="bi bi-speedometer2"></i>
                            </div>
                            <h3>高速缓冲</h3>
                            <p>采用先进的缓冲技术，即使在网络不稳定的情况下也能提供流畅的播放体验，减少卡顿。</p>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="400">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="bi bi-laptop"></i>
                            </div>
                            <h3>跨平台兼容</h3>
                            <p>完美支持PC、手机、平板等各种设备，无需安装任何插件，打开网页即可观看。</p>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="200">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="bi bi-shield-check"></i>
                            </div>
                            <h3>安全可靠</h3>
                            <p>采用HTTPS加密传输，保护您的观看隐私，无广告弹窗，无恶意插件，安全无忧。</p>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="400">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="bi bi-sliders"></i>
                            </div>
                            <h3>播放控制</h3>
                            <p>提供倍速播放、音量调节、全屏切换等多种控制选项，满足不同的观看需求。</p>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="600">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="bi bi-code-square"></i>
                            </div>
                            <h3>嵌入支持</h3>
                            <p>提供简单的嵌入代码，轻松将播放器嵌入到您自己的网站中，分享精彩内容。</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 教程部分 -->
            <section id="tutorials" class="tutorials">
                <h2 class="section-title">视频教程</h2>
                <div class="row">
                    <div class="col-md-4" data-aos="fade-up" data-aos-duration="1000">
                        <div class="tutorial-card">
                            <div class="tutorial-image" style="background-image: url('https://images.unsplash.com/photo-1516321497487-e288fb19713f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80');"></div>
                            <div class="tutorial-content">
                                <h3>如何获取M3U8视频链接</h3>
                                <p>学习如何从各种网站和平台获取M3U8视频链接，用于在我们的播放器中播放。</p>
                                <a href="#" class="btn btn-primary">查看教程</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="200">
                        <div class="tutorial-card">
                            <div class="tutorial-image" style="background-image: url('https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80');"></div>
                            <div class="tutorial-content">
                                <h3>嵌入播放器到您的网站</h3>
                                <p>详细指南教您如何将我们的视频播放器嵌入到您自己的网站或博客中。</p>
                                <a href="#" class="btn btn-primary">查看教程</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4" data-aos="fade-up" data-aos-duration="1000" data-aos-delay="400">
                        <div class="tutorial-card">
                            <div class="tutorial-image" style="background-image: url('https://images.unsplash.com/photo-1581472723648-909f4851d4ae?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80');"></div>
                            <div class="tutorial-content">
                                <h3>解决常见播放问题</h3>
                                <p>遇到播放问题？这篇教程将帮助您解决视频加载、缓冲和兼容性等常见问题。</p>
                                <a href="#" class="btn btn-primary">查看教程</a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 常见问题 -->
            <section id="faq" class="faq">
                <h2 class="section-title">常见问题</h2>
                <div class="accordion" id="accordionFAQ">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingOne">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                什么是M3U8格式？
                            </button>
                        </h2>
                        <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionFAQ">
                            <div class="accordion-body">
                                <p>M3U8是一种UTF-8编码的音频播放列表文件。它是HTTP Live Streaming (HLS)技术的一部分，由Apple公司开发。M3U8文件本质上是一个纯文本文件，包含了指向媒体片段的URL列表，这些媒体片段通常是.ts（Transport Stream）格式的视频文件。</p>
                                <p>M3U8格式广泛应用于在线视频流媒体，特别是直播和点播服务，因为它支持自适应比特率流，可以根据用户的网络条件自动调整视频质量。</p>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingTwo">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                为什么我的视频无法播放？
                            </button>
                        </h2>
                        <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionFAQ">
                            <div class="accordion-body">
                                <p>视频无法播放可能有以下几个原因：</p>
                                <ul>
                                    <li>视频链接已失效或格式不正确</li>
                                    <li>视频源服务器不支持跨域访问(CORS)</li>
                                    <li>网络连接不稳定或速度过慢</li>
                                    <li>浏览器不支持该视频格式或编码</li>
                                    <li>视频源需要授权或认证</li>
                                </ul>
                                <p>建议尝试使用我们提供的示例链接测试播放器是否正常工作，然后再尝试您自己的链接。如果示例链接可以播放但您的链接不行，可能是链接本身的问题。</p>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingThree">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                如何在自己的网站上嵌入播放器？
                            </button>
                        </h2>
                        <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionFAQ">
                            <div class="accordion-body">
                                <p>在您的网站上嵌入我们的播放器非常简单，只需要使用以下HTML代码：</p>
                                <pre>&lt;iframe src="https://videostream.org/player.html?url=YOUR_M3U8_URL" width="100%" height="400" frameborder="0" allowfullscreen&gt;&lt;/iframe&gt;</pre>
                                <p>将上面代码中的YOUR_M3U8_URL替换为您要播放的视频流地址，然后将这段代码插入到您网站的HTML中即可。您可以根据需要调整width和height属性来改变播放器的大小。</p>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFour">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                播放器支持哪些视频格式？
                            </button>
                        </h2>
                        <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#accordionFAQ">
                            <div class="accordion-body">
                                <p>我们的播放器支持以下视频格式：</p>
                                <ul>
                                    <li>M3U8/HLS (.m3u8) - HTTP Live Streaming</li>
                                    <li>MP4 (.mp4) - MPEG-4 Part 14</li>
                                    <li>WebM (.webm) - 由Google开发的开放媒体文件格式</li>
                                    <li>Ogg (.ogg) - 开放的多媒体容器格式</li>
                                </ul>
                                <p>其中M3U8/HLS格式是我们的主要支持重点，它适用于大多数流媒体内容，特别是直播和长视频点播。</p>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingFive">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                使用播放器需要付费吗？
                            </button>
                        </h2>
                        <div id="collapseFive" class="accordion-collapse collapse" aria-labelledby="headingFive" data-bs-parent="#accordionFAQ">
                            <div class="accordion-body">
                                <p>不需要。我们的在线播放器完全免费使用，没有任何隐藏费用。您可以无限制地使用我们的播放器来播放您的视频内容。</p>
                                <p>我们通过网站上的少量广告来维持服务器运行成本。如果您需要无广告版本或定制化的播放器解决方案，欢迎联系我们了解商业合作。</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 底部广告 -->
            <div class="ad-container ad-bottom">
                <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6400746346592229"
                    crossorigin="anonymous"></script>
                <!-- m3u-bottom -->
                <ins class="adsbygoogle"
                    style="display:block"
                    data-ad-client="ca-pub-6400746346592229"
                    data-ad-slot="6644983255"
                    data-ad-format="auto"
                    data-full-width-responsive="true"></ins>
                <script>
                    (adsbygoogle = window.adsbygoogle || []).push({});
                </script>
            </div>

            <!-- 联系我们 -->
            <section id="contact" class="contact">
                <h2 class="section-title">联系我们</h2>
                <div class="row">
                    <div class="col-md-6">
                        <form class="contact-form">
                            <div class="mb-3">
                                <label for="name" class="form-label">您的姓名</label>
                                <input type="text" class="form-control" id="name" placeholder="请输入您的姓名">
                            </div>
                            <div class="mb-3">
                                <label for="email" class="form-label">电子邮箱</label>
                                <input type="email" class="form-control" id="email" placeholder="请输入您的电子邮箱">
                            </div>
                            <div class="mb-3">
                                <label for="subject" class="form-label">主题</label>
                                <input type="text" class="form-control" id="subject" placeholder="请输入主题">
                            </div>
                            <div class="mb-3">
                                <label for="message" class="form-label">留言内容</label>
                                <textarea class="form-control" id="message" rows="5" placeholder="请输入您的留言内容"></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary"><i class="bi bi-send"></i> 发送留言</button>
                        </form>
                    </div>
                    <div class="col-md-6">
                        <div class="contact-info">
                            <h4>联系方式</h4>
                            <p><i class="bi bi-envelope"></i> 电子邮箱: support@videostream.org</p>
                            <p><i class="bi bi-clock"></i> 工作时间: 周一至周五 9:00-18:00</p>
                            <p><i class="bi bi-geo-alt"></i> 地址: 中国北京市海淀区中关村科技园</p>
                            
                            <h4 class="mt-4">关注我们</h4>
                            <div class="social-links">
                                <a href="#"><i class="bi bi-facebook"></i></a>
                                <a href="#"><i class="bi bi-twitter"></i></a>
                                <a href="#"><i class="bi bi-instagram"></i></a>
                                <a href="#"><i class="bi bi-youtube"></i></a>
                                <a href="#"><i class="bi bi-github"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- 页脚 -->
    <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-md-4 mb-4">
                    <h5>关于我们</h5>
                    <p>VideoStream是一个专业的视频流媒体播放平台，致力于提供高质量的在线视频播放解决方案，支持多种格式，操作简便，播放流畅。</p>
                    <div class="social-links">
                        <a href="#"><i class="bi bi-facebook"></i></a>
                        <a href="#"><i class="bi bi-twitter"></i></a>
                        <a href="#"><i class="bi bi-instagram"></i></a>
                        <a href="#"><i class="bi bi-youtube"></i></a>
                    </div>
                </div>
                <div class="col-md-4 mb-4">
                    <h5>快速链接</h5>
                    <ul class="footer-links">
                        <li><a href="#"><i class="bi bi-chevron-right"></i> 首页</a></li>
                        <li><a href="#features"><i class="bi bi-chevron-right"></i> 功能特点</a></li>
                        <li><a href="#tutorials"><i class="bi bi-chevron-right"></i> 视频教程</a></li>
                        <li><a href="#faq"><i class="bi bi-chevron-right"></i> 常见问题</a></li>
                        <li><a href="#contact"><i class="bi bi-chevron-right"></i> 联系我们</a></li>
                        <li><a href="#"><i class="bi bi-chevron-right"></i> 隐私政策</a></li>
                        <li><a href="#"><i class="bi bi-chevron-right"></i> 使用条款</a></li>
                    </ul>
                </div>
                <div class="col-md-4 mb-4">
                    <h5>友情链接</h5>
                    <ul class="footer-links">
                        <li><a href="https://www.zmweb3.com" target="_blank"><i class="bi bi-link"></i> zmweb3</a></li>
                        <li><a href="https://tool.zmweb3.com" target="_blank"><i class="bi bi-link"></i> web3工具箱</a></li>
                        <li><a href="https://4.laoyan.me/" target="_blank"><i class="bi bi-link"></i> web3导航</a></li>
                        <li><a href="https://www.xhmail.org/" target="_blank"><i class="bi bi-link"></i> m3u8播放器</a></li>
                    </ul>
                </div>
            </div>
            <div class="copyright">
                <p><i class="bi bi-exclamation-triangle"></i> 资源来源于网络，如有侵权，请联系我们予以删除！</p>
                <p>© 2019 - 2025 VideoStream | 专业视频流媒体播放平台</p>
            </div>
        </div>
    </footer>

    <!-- 提示框容器 -->
    <div class="toast-container">
        <!-- 提示框将在这里动态生成 -->
    </div>

    <script>
        // 声明全局变量，用于跟踪DOM是否已加载
        let domLoaded = false;
        
        // 显示提示信息的安全包装函数
        function safeShowToast(title, message, type) {
            if (domLoaded && typeof showToast === 'function') {
                showToast(title, message, type);
            } else {
                console.error('无法显示提示:', title, message, '- DOM未加载或showToast未定义');
                // 将错误信息存储起来，等DOM加载完成后显示
                if (!window.pendingToasts) window.pendingToasts = [];
                window.pendingToasts.push({title, message, type});
            }
        }
        
        // 全局错误处理
        window.onerror = function(message, source, lineno, colno, error) {
            console.error('全局错误:', message, 'at', source, lineno, colno, error);
            safeShowToast('JavaScript错误', message, 'error');
            return false;
        };
        
        // 检查TCPlayer是否加载
        window.addEventListener('load', function() {
            console.log('页面完全加载完成，开始检查关键组件');
            checkCriticalComponents();
        });
        
        // 检查关键组件
        function checkCriticalComponents() {
            console.log('检查关键组件...');
            
            // 检查播放器容器
            const playerContainer = document.getElementById('player-container-id');
            if (!playerContainer) {
                console.error('找不到播放器容器元素!');  
                safeShowToast('错误', '找不到播放器容器元素', 'error');
            } else {
                console.log('播放器容器元素存在:', playerContainer);
            }
            
            // 检查TCPlayer
            if (typeof TCPlayer === 'undefined') {
                console.error('TCPlayer未加载!');
                safeShowToast('错误', 'TCPlayer播放器未能正确加载，请检查网络连接或刷新页面重试', 'error');
            } else {
                console.log('TCPlayer已加载:', TCPlayer);
                safeShowToast('成功', 'TCPlayer播放器已加载', 'success');
            }
            
            // 检查URL输入框
            const urlInput = document.getElementById('url');
            if (!urlInput) {
                console.error('找不到URL输入框元素!');
            } else {
                console.log('URL输入框元素存在:', urlInput.value);
            }
            
            // 检查播放按钮
            const playButton = document.getElementById('play-button');
            if (!playButton) {
                console.error('找不到播放按钮元素!');
            } else {
                console.log('播放按钮元素存在');
            }
        }
        
        // 初始化AOS动画库
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM已加载完成');
            // 设置DOM已加载标志
            domLoaded = true;
            
            AOS.init();
            
            // 为导航链接添加平滑滚动效果
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href');
                    if(targetId === '#') return;
                    
                    const targetElement = document.querySelector(targetId);
                    if(targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 80,
                            behavior: 'smooth'
                        });
                        
                        // 如果是在移动设备上，点击导航链接后关闭导航菜单
                        const navbarCollapse = document.querySelector('.navbar-collapse');
                        if (navbarCollapse.classList.contains('show')) {
                            bootstrap.Collapse.getInstance(navbarCollapse).hide();
                        }
                    }
                });
            });
            
            // 为输入框添加回车键事件监听
            const urlInput = document.getElementById('url');
            if (urlInput) {
                urlInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        playWithDebug();
                    }
                });
            } else {
                console.error('找不到URL输入框元素!');
            }
            
            // 为播放按钮添加点击事件监听
            const playButton = document.getElementById('play-button');
            if (playButton) {
                console.log('为播放按钮添加点击事件监听');
                playButton.addEventListener('click', function(e) {
                    console.log('播放按钮被点击（事件监听器）');
                    playWithDebug();
                });
            } else {
                console.error('找不到播放按钮元素!');
            }
            
            // 显示初始提示信息
            showToast('欢迎使用VideoStream', '输入视频流地址后点击播放按钮或按回车键开始播放', 'info');
            
            // 显示之前存储的提示信息
            if (window.pendingToasts && window.pendingToasts.length > 0) {
                console.log('显示待处理的提示信息:', window.pendingToasts.length, '条');
                window.pendingToasts.forEach(toast => {
                    showToast(toast.title, toast.message, toast.type);
                });
                window.pendingToasts = [];
            }
            
            // 自动初始化播放器（解决点击播放没反应的问题）
            setTimeout(function() {
                console.log('自动初始化播放器...');
                initializePlayer();
            }, 1000);
        });
        
        // 初始化播放器函数
        function initializePlayer() {
            try {
                const playerContainer = document.getElementById('player-container-id');
                if (!playerContainer) {
                    console.error('找不到播放器容器，无法初始化播放器');
                    return;
                }
                
                if (typeof TCPlayer === 'undefined') {
                    console.error('TCPlayer未加载，无法初始化播放器');
                    return;
                }
                
                // 获取默认URL
                const urlInput = document.getElementById('url');
                const url = urlInput ? urlInput.value.trim() : 'https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8';
                
                console.log('初始化播放器，URL:', url);
                
                // 如果已有播放器实例，先销毁
                if (player) {
                    console.log('销毁现有播放器实例');
                    player.dispose();
                    player = null;
                }
                
                // 创建新的播放器实例
                player = TCPlayer('player-container-id', {
                    sources: [{
                        src: url,
                    }],
                    licenseUrl: 'https://license.vod2.myqcloud.com/license/v2/1258161798_1/v_cube.license',
                    autoplay: false, // 不自动播放，等待用户点击
                    controls: true,
                    playbackRates: [0.5, 1, 1.25, 1.5, 2]
                });
                
                console.log('播放器初始化成功');
                
                // 添加播放器事件监听
                player.on('error', function(error) {
                    console.error('播放器错误:', error);
                    showToast('播放错误', '视频加载失败，请检查地址是否正确', 'error');
                });
                
                player.on('playing', function() {
                    console.log('播放器状态: 播放中');
                    showToast('播放中', '视频已开始播放', 'info');
                });
                
                player.on('waiting', function() {
                    console.log('播放器状态: 缓冲中');
                    showToast('缓冲中', '视频正在缓冲，请稍候...', 'info');
                });
                
                player.on('loadstart', function() {
                    console.log('播放器状态: 开始加载');
                });
                
                player.on('loadedmetadata', function() {
                    console.log('播放器状态: 元数据已加载');
                });
                
                player.on('canplay', function() {
                    console.log('播放器状态: 可以播放');
                });
                
                showToast('准备就绪', '播放器已初始化，点击播放按钮开始播放', 'success');
                
            } catch (error) {
                console.error('初始化播放器失败:', error);
                showToast('错误', '初始化播放器失败: ' + error.message, 'error');
            }
        }
        
        // 初始化播放器变量
        let player;
        
        // 带调试功能的播放函数
        function playWithDebug() {
            console.log('playWithDebug被调用');
            try {
                // 检查DOM元素
                const urlInput = document.getElementById('url');
                if (!urlInput) {
                    console.error('找不到URL输入框元素!');
                    safeShowToast('错误', '找不到URL输入框元素', 'error');
                    return;
                }
                
                const playerContainer = document.getElementById('player-container-id');
                if (!playerContainer) {
                    console.error('找不到播放器容器元素!');
                    safeShowToast('错误', '找不到播放器容器元素', 'error');
                    return;
                }
                
                // 检查TCPlayer是否已加载
                if (typeof TCPlayer === 'undefined') {
                    console.error('TCPlayer未加载，尝试使用原生HTML5播放器!');
                    safeShowToast('提示', 'TCPlayer未加载，使用原生HTML5播放器', 'warning');
                    playWithNativePlayer();
                    return;
                }
                
                console.log('所有必要条件已满足，调用play()函数');
                play();
            } catch (error) {
                console.error('playWithDebug错误:', error);
                safeShowToast('错误', '播放时发生错误: ' + error.message, 'error');
                // 尝试使用原生播放器作为备选方案
                playWithNativePlayer();
            }
        }
        
        // 调试TCPlayer函数
        function debugTCPlayer() {
            console.log('=== TCPlayer 调试信息 ===');
            
            // 检查TCPlayer是否存在
            console.log('TCPlayer类型:', typeof TCPlayer);
            console.log('TCPlayer对象:', TCPlayer);
            
            if (typeof TCPlayer !== 'undefined') {
                console.log('TCPlayer已加载');
                showToast('调试信息', 'TCPlayer已正确加载', 'success');
                
                // 尝试创建一个简单的播放器实例
                try {
                    const testPlayer = TCPlayer('player-container-id', {
                        sources: [{
                            src: 'https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8'
                        }],
                        licenseUrl: 'https://license.vod2.myqcloud.com/license/v2/1258161798_1/v_cube.license',
                        controls: true,
                        autoplay: false
                    });
                    console.log('TCPlayer实例创建成功:', testPlayer);
                    showToast('调试成功', 'TCPlayer实例创建成功', 'success');
                    
                    // 清理测试实例
                    setTimeout(() => {
                        if (testPlayer && testPlayer.dispose) {
                            testPlayer.dispose();
                            console.log('测试实例已清理');
                        }
                    }, 2000);
                    
                } catch (error) {
                    console.error('TCPlayer实例创建失败:', error);
                    showToast('调试错误', 'TCPlayer实例创建失败: ' + error.message, 'error');
                }
            } else {
                console.error('TCPlayer未加载');
                showToast('调试错误', 'TCPlayer未加载，请检查网络连接', 'error');
                
                // 检查脚本标签是否存在
                const tcPlayerScript = document.querySelector('script[src*="tcplayer"]');
                console.log('TCPlayer脚本标签:', tcPlayerScript);
                
                if (tcPlayerScript) {
                    console.log('脚本标签存在，但可能加载失败');
                    showToast('调试信息', '脚本标签存在但加载失败，可能是网络问题', 'warning');
                } else {
                    console.log('脚本标签不存在');
                    showToast('调试错误', '脚本标签不存在', 'error');
                }
            }
            
            // 检查播放器容器
            const container = document.getElementById('player-container-id');
            console.log('播放器容器:', container);
            console.log('容器innerHTML:', container ? container.innerHTML : 'null');
            
            console.log('=== 调试信息结束 ===');
        }
        
        // 原生HTML5播放器备选方案
        function playWithNativePlayer() {
            console.log('使用原生HTML5播放器');
            try {
                const url = document.getElementById('url').value.trim();
                if (!url) {
                    showToast('错误', '请输入有效的视频流地址', 'error');
                    return;
                }
                
                const playerContainer = document.getElementById('player-container-id');
                
                // 创建原生video元素
                playerContainer.innerHTML = `
                    <video controls autoplay style="width: 100%; height: 400px; background: #000;">
                        <source src="${url}" type="application/x-mpegURL">
                        <source src="${url}" type="video/mp4">
                        您的浏览器不支持视频播放。
                    </video>
                `;
                
                const video = playerContainer.querySelector('video');
                
                video.addEventListener('loadstart', function() {
                    console.log('原生播放器: 开始加载');
                    showToast('加载中', '正在加载视频流...', 'info');
                });
                
                video.addEventListener('playing', function() {
                    console.log('原生播放器: 播放中');
                    showToast('播放中', '视频已开始播放', 'success');
                });
                
                video.addEventListener('error', function(e) {
                    console.error('原生播放器错误:', e);
                    showToast('播放错误', '视频加载失败，请检查地址是否正确', 'error');
                });
                
                // 滚动到播放器位置
                document.querySelector('.player-container-wrapper').scrollIntoView({ behavior: 'smooth', block: 'center' });
                
            } catch (error) {
                console.error('原生播放器初始化失败:', error);
                showToast('错误', '播放器初始化失败: ' + error.message, 'error');
            }
        }
        
        // 测试播放器初始化函数
        function testPlayerInit() {
            console.log('testPlayerInit被调用');
            try {
                // 检查播放器容器
                const playerContainer = document.getElementById('player-container-id');
                if (!playerContainer) {
                    console.error('找不到播放器容器元素!');
                    safeShowToast('错误', '找不到播放器容器元素', 'error');
                    return;
                }
                
                // 检查TCPlayer是否已加载
                if (typeof TCPlayer === 'undefined') {
                    console.error('TCPlayer未加载!');
                    safeShowToast('错误', 'TCPlayer播放器未能正确加载，请检查网络连接或刷新页面重试', 'error');
                    return;
                }
                
                // 直接初始化播放器，使用固定的测试URL
                const testUrl = 'https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8';
                console.log('直接初始化播放器，使用测试URL:', testUrl);
                
                try {
                    // 如果已有播放器实例，先销毁
                    if (player) {
                        console.log('销毁现有播放器实例');
                        player.dispose();
                        player = null;
                    }
                    
                    // 创建新的播放器实例
                    console.log('创建新的播放器实例');
                    player = TCPlayer('player-container-id', {
                        sources: [{
                            src: testUrl,
                        }],
                        licenseUrl: 'https://license.vod2.myqcloud.com/license/v2/1258161798_1/v_cube.license',
                        autoplay: true,
                        controls: true,
                        playbackRates: [0.5, 1, 1.25, 1.5, 2]
                    });
                    
                    console.log('播放器初始化成功:', player);
                    safeShowToast('成功', '播放器初始化成功', 'success');
                    
                    // 添加基本事件监听
                    player.on('error', function(error) {
                        console.error('播放器错误:', error);
                        safeShowToast('播放错误', '视频加载失败', 'error');
                    });
                    
                    player.on('playing', function() {
                        console.log('播放器状态: 播放中');
                        safeShowToast('播放中', '视频已开始播放', 'info');
                    });
                } catch (e) {
                    console.error('播放器初始化失败:', e);
                    safeShowToast('错误', '播放器初始化失败: ' + e.message, 'error');
                }
                
                // 滚动到播放器位置
                document.querySelector('.player-container-wrapper').scrollIntoView({ behavior: 'smooth', block: 'center' });
                
            } catch (error) {
                console.error('testPlayerInit错误:', error);
                safeShowToast('错误', '测试播放器初始化时发生错误: ' + error.message, 'error');
            }
        }
        
        // 设置示例URL
        function setExampleUrl(url) {
            document.getElementById('url').value = url;
            showToast('示例链接已设置', '点击播放按钮开始播放', 'info');
        }
        
        // 播放函数
        function play() {
            const url = document.getElementById('url').value.trim();
            
            console.log('播放按钮被点击，URL:', url);
            
            if (!url) {
                showToast('错误', '请输入有效的视频流地址', 'error');
                return;
            }
            
            try {
                if (!player) {
                    console.log('初始化播放器，容器ID:', 'player-container-id');
                    // 检查播放器容器是否存在
                    const playerContainer = document.getElementById('player-container-id');
                    if (!playerContainer) {
                        console.error('播放器容器不存在!');
                        showToast('错误', '播放器容器不存在，请刷新页面重试', 'error');
                        return;
                    }
                    
                    console.log('播放器容器存在，开始初始化TCPlayer');
                    // 初始化播放器
                    try {
                        player = TCPlayer('player-container-id', {
                        sources: [{
                            src: url,
                        }],
                        licenseUrl: 'https://license.vod2.myqcloud.com/license/v2/1258161798_1/v_cube.license',
                        autoplay: true,
                        controls: true,
                        playbackRates: [0.5, 1, 1.25, 1.5, 2]
                    });
                        console.log('TCPlayer初始化成功:', player);
                    } catch (e) {
                        console.error('TCPlayer初始化失败:', e);
                        showToast('错误', 'TCPlayer初始化失败: ' + e.message, 'error');
                        return;
                    }
                    
                    // 添加播放器事件监听
                    player.on('error', function(error) {
                        console.error('播放器错误:', error);
                        showToast('播放错误', '视频加载失败，请检查地址是否正确', 'error');
                    });
                    
                    player.on('playing', function() {
                        console.log('播放器状态: 播放中');
                        showToast('播放中', '视频已开始播放', 'info');
                    });
                    
                    player.on('waiting', function() {
                        console.log('播放器状态: 缓冲中');
                        showToast('缓冲中', '视频正在缓冲，请稍候...', 'info');
                    });
                    
                    player.on('loadstart', function() {
                        console.log('播放器状态: 开始加载');
                    });
                    
                    player.on('loadedmetadata', function() {
                        console.log('播放器状态: 元数据已加载');
                    });
                    
                    player.on('canplay', function() {
                        console.log('播放器状态: 可以播放');
                    });
                    
                    player.on('pause', function() {
                        console.log('播放器状态: 已暂停');
                    });
                    
                    player.on('ended', function() {
                        console.log('播放器状态: 播放结束');
                        showToast('播放结束', '视频已播放完毕', 'info');
                    });
                } else {
                    // 如果播放器已存在，更新视频源
                    player.pause();
                    player.src(url);
                }
                
                // 更新嵌入代码
                updateEmbedCode(url);
                
                // 显示加载提示
                showToast('加载中', '正在加载视频流，请稍候...', 'info');
                
                // 滚动到播放器位置
                document.querySelector('.player-container-wrapper').scrollIntoView({ behavior: 'smooth', block: 'center' });
                
            } catch (error) {
                console.error('播放器初始化失败:', error);
                showToast('初始化失败', '播放器初始化失败，请刷新页面重试', 'error');
            }
        }
        
        // 调整播放速率
        function adjustPlaybackRate(rate) {
            if (player) {
                player.playbackRate(rate);
                showToast('播放速率已调整', `当前播放速率: ${rate}x`, 'info');
            } else {
                showToast('提示', '请先播放视频', 'warning');
            }
        }
        
        // 更新嵌入代码
        function updateEmbedCode(url) {
            const embedCode = `<iframe src="https://videostream.org/player.html?url=${encodeURIComponent(url)}" width="100%" height="400" frameborder="0" allowfullscreen></iframe>`;
            document.getElementById('embed-code').value = embedCode;
        }
        
        // 复制嵌入代码
        function copyEmbedCode() {
            const embedCodeElement = document.getElementById('embed-code');
            embedCodeElement.select();
            document.execCommand('copy');
            showToast('复制成功', '嵌入代码已复制到剪贴板', 'success');
        }
        
        // 显示提示信息
        function showToast(title, message, type = 'info') {
            // 记录到控制台
            console.log(`[${type}] ${title}: ${message}`);
            
            // 创建提示框元素
            const toastId = 'toast-' + Date.now();
            const toastHTML = `
                <div id="${toastId}" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
                    <div class="toast-header">
                        <i class="bi ${getIconClass(type)}"></i>
                        <strong class="me-auto">${title}</strong>
                        <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                    </div>
                    <div class="toast-body">
                        ${message}
                    </div>
                </div>
            `;
            
            // 添加到提示框容器
            document.querySelector('.toast-container').insertAdjacentHTML('beforeend', toastHTML);
            
            // 初始化提示框
            const toastElement = document.getElementById(toastId);
            const toast = new bootstrap.Toast(toastElement, {
                autohide: true,
                delay: 5000
            });
            
            // 显示提示框
            toast.show();
            
            // 添加动画效果
            toastElement.style.animation = 'fadeInUp 0.3s ease forwards';
            
            // 监听关闭事件，添加淡出动画
            toastElement.addEventListener('hide.bs.toast', function() {
                this.style.animation = 'fadeOut 0.3s ease forwards';
            });
            
            // 监听隐藏完成事件，移除元素
            toastElement.addEventListener('hidden.bs.toast', function() {
                this.remove();
            });
        }
        
        // 获取提示框图标类
        function getIconClass(type) {
            switch(type) {
                case 'success':
                    return 'bi-check-circle-fill text-success';
                case 'warning':
                    return 'bi-exclamation-triangle-fill text-warning';
                case 'error':
                    return 'bi-x-circle-fill text-danger';
                case 'info':
                default:
                    return 'bi-info-circle-fill text-primary';
            }
        }